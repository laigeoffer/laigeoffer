<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>微服务之SpringCloud | 🚀来个offer</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="🚀来个 offer 民间开源实战项目聚集地，助力学生党和社招党拿到一个更好的 offer 💪🏻">
    <meta name="keywords" content="🚀来个 offer 民间开源实战项目聚集地，助力学生党和社招党拿到一个更好的 offer 💪🏻,Java，JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.667656ab.css" as="style"><link rel="preload" href="/assets/js/app.83473f79.js" as="script"><link rel="preload" href="/assets/js/2.31d96d71.js" as="script"><link rel="preload" href="/assets/js/10.a88f9952.js" as="script"><link rel="prefetch" href="/assets/js/11.8d90cc91.js"><link rel="prefetch" href="/assets/js/12.34a33fd5.js"><link rel="prefetch" href="/assets/js/13.ff76f0ac.js"><link rel="prefetch" href="/assets/js/14.db301673.js"><link rel="prefetch" href="/assets/js/15.eb274392.js"><link rel="prefetch" href="/assets/js/16.bbaabc75.js"><link rel="prefetch" href="/assets/js/17.325e53de.js"><link rel="prefetch" href="/assets/js/18.74c49f57.js"><link rel="prefetch" href="/assets/js/19.6253734b.js"><link rel="prefetch" href="/assets/js/20.3c152365.js"><link rel="prefetch" href="/assets/js/21.bcd9380c.js"><link rel="prefetch" href="/assets/js/22.f3ab1b9e.js"><link rel="prefetch" href="/assets/js/23.da23a1ad.js"><link rel="prefetch" href="/assets/js/24.cfc91240.js"><link rel="prefetch" href="/assets/js/25.519a4e30.js"><link rel="prefetch" href="/assets/js/26.cd91f683.js"><link rel="prefetch" href="/assets/js/27.1f5cadc2.js"><link rel="prefetch" href="/assets/js/28.b3bcaff2.js"><link rel="prefetch" href="/assets/js/29.731ad728.js"><link rel="prefetch" href="/assets/js/3.991d9f81.js"><link rel="prefetch" href="/assets/js/30.0c98a688.js"><link rel="prefetch" href="/assets/js/31.7d655e0e.js"><link rel="prefetch" href="/assets/js/32.560199f6.js"><link rel="prefetch" href="/assets/js/33.2ae5aa67.js"><link rel="prefetch" href="/assets/js/34.057807c2.js"><link rel="prefetch" href="/assets/js/35.adb5d42a.js"><link rel="prefetch" href="/assets/js/36.01dcb302.js"><link rel="prefetch" href="/assets/js/37.a19ce38a.js"><link rel="prefetch" href="/assets/js/38.fa28f001.js"><link rel="prefetch" href="/assets/js/39.ccaa3eec.js"><link rel="prefetch" href="/assets/js/4.64fe5b60.js"><link rel="prefetch" href="/assets/js/40.02dc1a45.js"><link rel="prefetch" href="/assets/js/41.e6955f99.js"><link rel="prefetch" href="/assets/js/42.a46a1039.js"><link rel="prefetch" href="/assets/js/43.1c9277ef.js"><link rel="prefetch" href="/assets/js/44.794d1379.js"><link rel="prefetch" href="/assets/js/45.216c5c4e.js"><link rel="prefetch" href="/assets/js/46.5a545756.js"><link rel="prefetch" href="/assets/js/47.b2c60526.js"><link rel="prefetch" href="/assets/js/48.1c5a5b00.js"><link rel="prefetch" href="/assets/js/49.4dc146cf.js"><link rel="prefetch" href="/assets/js/5.783e9e4e.js"><link rel="prefetch" href="/assets/js/50.3089daf8.js"><link rel="prefetch" href="/assets/js/51.c7f691d9.js"><link rel="prefetch" href="/assets/js/52.2e18f54e.js"><link rel="prefetch" href="/assets/js/53.fbda92f7.js"><link rel="prefetch" href="/assets/js/54.74572be4.js"><link rel="prefetch" href="/assets/js/55.46c487f1.js"><link rel="prefetch" href="/assets/js/56.109d422c.js"><link rel="prefetch" href="/assets/js/57.cc68f82f.js"><link rel="prefetch" href="/assets/js/58.c61c00bc.js"><link rel="prefetch" href="/assets/js/59.8703ecc3.js"><link rel="prefetch" href="/assets/js/6.06b02aa2.js"><link rel="prefetch" href="/assets/js/60.0d7b65c4.js"><link rel="prefetch" href="/assets/js/61.966a8c9b.js"><link rel="prefetch" href="/assets/js/62.43a9f490.js"><link rel="prefetch" href="/assets/js/63.691b3875.js"><link rel="prefetch" href="/assets/js/64.46967ec3.js"><link rel="prefetch" href="/assets/js/7.2ada4077.js"><link rel="prefetch" href="/assets/js/8.0c642970.js"><link rel="prefetch" href="/assets/js/9.79ce7461.js">
    <link rel="stylesheet" href="/assets/css/0.styles.667656ab.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="🚀来个offer" class="logo"> <span class="site-name can-hide">🚀来个offer</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔥项目教程" class="dropdown-title"><a href="/project/laigeoffer/pmhub/about/" class="link-title">🔥项目教程</a> <span class="title" style="display:none;">🔥项目教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/laigeoffer/pmhub/about/" class="nav-link">PmHub</a></li><li class="dropdown-item"><!----> <a href="/project/laigeoffer/paicoding/about/" class="nav-link">技术派</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀在线体验" class="dropdown-title"><!----> <span class="title" style="display:;">🚀在线体验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://pmhub.laigeoffer.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PmHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://paicoding.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  技术派
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/laigeoffer/groupchat/" class="nav-link">🌈加入学习群</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="珍藏资源" class="dropdown-title"><!----> <span class="title" style="display:;">珍藏资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resource/pdftoc/" class="nav-link">⬇️PDF下载</a></li><li class="dropdown-item"><!----> <a href="/pages/pojieheji/" class="nav-link">🔓破解合集</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端技术" class="dropdown-title"><a href="/technology/mq/" class="link-title">后端技术</a> <span class="title" style="display:none;">后端技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technology/mq/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/pages/weifuwu/" aria-current="page" class="nav-link router-link-exact-active router-link-active">微服务</a></li><li class="dropdown-item"><!----> <a href="/pages/yunyuansheng/" class="nav-link">云原生</a></li><li class="dropdown-item"><!----> <a href="/pages/aigc/" class="nav-link">大模型&amp;AIGC</a></li></ul></div></div> <a href="https://github.com/laigeoffer" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔥项目教程" class="dropdown-title"><a href="/project/laigeoffer/pmhub/about/" class="link-title">🔥项目教程</a> <span class="title" style="display:none;">🔥项目教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/laigeoffer/pmhub/about/" class="nav-link">PmHub</a></li><li class="dropdown-item"><!----> <a href="/project/laigeoffer/paicoding/about/" class="nav-link">技术派</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀在线体验" class="dropdown-title"><!----> <span class="title" style="display:;">🚀在线体验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://pmhub.laigeoffer.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PmHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://paicoding.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  技术派
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/laigeoffer/groupchat/" class="nav-link">🌈加入学习群</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="珍藏资源" class="dropdown-title"><!----> <span class="title" style="display:;">珍藏资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resource/pdftoc/" class="nav-link">⬇️PDF下载</a></li><li class="dropdown-item"><!----> <a href="/pages/pojieheji/" class="nav-link">🔓破解合集</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端技术" class="dropdown-title"><a href="/technology/mq/" class="link-title">后端技术</a> <span class="title" style="display:none;">后端技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technology/mq/" class="nav-link">消息队列</a></li><li class="dropdown-item"><!----> <a href="/pages/weifuwu/" aria-current="page" class="nav-link router-link-exact-active router-link-active">微服务</a></li><li class="dropdown-item"><!----> <a href="/pages/yunyuansheng/" class="nav-link">云原生</a></li><li class="dropdown-item"><!----> <a href="/pages/aigc/" class="nav-link">大模型&amp;AIGC</a></li></ul></div></div> <a href="https://github.com/laigeoffer" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>消息队列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/technology/mq/" class="sidebar-link">springcloud</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>微服务</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/weifuwu/" aria-current="page" class="active sidebar-link">微服务之SpringCloud</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/weifuwu/#_4-1、单个eureka服务" class="sidebar-link">4.1、单个Eureka服务</a></li><li class="sidebar-sub-header level2"><a href="/pages/weifuwu/#_4-2、eureka集群" class="sidebar-link">4.2、Eureka集群</a></li></ul></li><li><a href="/pages/0cc3cb/" class="sidebar-link">微服务中的鉴权怎么做？</a></li><li><a href="/pages/be8758/" class="sidebar-link">微服务如何做好监控</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>云原生</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/yunyuansheng/" class="sidebar-link">nodejs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>大模型&amp;AIGC</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/aigc/" class="sidebar-link">博客搭建</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF" title="分类" data-v-06225672>后端技术</a></li><li data-v-06225672><a href="/categories/?category=%E5%BE%AE%E6%9C%8D%E5%8A%A1" title="分类" data-v-06225672>微服务</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/freestylefly" target="_blank" title="作者" class="beLink" data-v-06225672>苍何</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-05-21</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><!---->微服务之SpringCloud<!----></h1>  <div class="theme-vdoing-content content__default"><p><a name="eNyHM"></a></p> <h1 id="_1、架构的演进"><a href="#_1、架构的演进" class="header-anchor">#</a> 1、架构的演进</h1> <p>单体架构-&gt;集群：负载均衡 -&gt; 分布式服务 -&gt; SOA架构 -&gt;微服务
<a name="p3YBw"></a></p> <h1 id="_2、微服务"><a href="#_2、微服务" class="header-anchor">#</a> 2、微服务</h1> <p>特性：</p> <ol><li>完全独立的一个最小个体。（可以独立运行）</li> <li>个体与个体之间，通过远程调用进行访问。例如：基于RESTFul风格的。</li> <li>通过注册中心，将不同个体可以进行整合。</li></ol> <p><strong>服务雪崩：</strong><br>服务雪崩：在整条链路的服务中，一个服务失败，导致整条链路的服务都失败的情形。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>存在整条链路服务（<span class="token class-name">Service</span> <span class="token class-name">A</span>、<span class="token class-name">Service</span> <span class="token class-name">B</span>、<span class="token class-name">Service</span> <span class="token class-name">C</span>）

<span class="token class-name">Service</span> <span class="token class-name">A</span> 流量突然性增加，导致<span class="token class-name">Service</span> <span class="token class-name">B</span> 和<span class="token class-name">Service</span> <span class="token class-name">C</span> 流量也增加。

<span class="token class-name">Service</span> <span class="token class-name">C</span> 因为抗不住请求，变得不可用。导致<span class="token class-name">Service</span> <span class="token class-name">B</span>的请求变得阻塞。

当<span class="token class-name">Service</span> <span class="token class-name">B</span>的资源耗尽，<span class="token class-name">Service</span> <span class="token class-name">B</span>就会变得不可用。


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="https://canghe666.oss-cn-chengdu.aliyuncs.com/canghe/4ffeb9e0e9dc44e1b4414b38c11973b5.png" alt="在这里插入图片描述"></p> <p><br><strong>服务熔断：</strong><br>当下游的服务因为某种原因突然变得不可用或响应过慢，上游服务为了保证自己整体服务的可用性，不再继续调用目标服务，直接返回，快速释放资源。如果目标服务情况好转则恢复调用。<br><br>最开始处于closed状态，一旦检测到错误到达一定阈值，便转为open状态；
<img src="https://canghe666.oss-cn-chengdu.aliyuncs.com/canghe/781a587562a7473b9e51aa11df5f8303.png" alt="在这里插入图片描述"></p> <p>这时候会有个 reset timeout，到了这个时间了，会转移到half open状态；</p> <p>尝试放行一部分请求到后端，一旦检测成功便回归到closed状态，即恢复服务；</p> <p><strong>服务降级：</strong><br>当下游的服务因为某种原因响应过慢，下游服务主动停掉一些不太重要的业务，释放出服务器资源，增加响应速度！</p> <p>当下游的服务因为某种原因不可用，上游主动调用本地的一些降级逻辑，避免卡顿，迅速返回给用户！</p> <p>熔断和降级的区别：<br>服务降级有很多种降级方式！如开关降级、限流降级、熔断降级!</p> <p>服务熔断属于降级方式的一种！</p> <p>当发生下游服务不可用的情况，熔断和降级必定是一起出现。</p> <p>服务降级大多是属于一种业务级别的处理，熔断属于框架层级的实现</p> <p>开关降级</p> <p>在配置中心配置一个开关(变量)，在配置中心更改开关，决定哪些服务进行降级<br><a href="https://blog.csdn.net/weixin_45481821/article/details/125357875" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a name="dc5Fi"></a></p> <h1 id="_3、什么是springcloud"><a href="#_3、什么是springcloud" class="header-anchor">#</a> 3、什么是SpringCloud</h1> <p>Spring Cloud 是一系列框架的集合，它利用Spring Boot的开发便利性，简化了分布式系统开发，如：服务注册、服务发现、配置中心。消息总线、负载均衡、熔断器、数据监控等。</p> <p>Spring Cloud 主要贡献者是Netflix，也就是Spring Cloud是对Netflix贡献的框架的二次封装或优化。</p> <p>通俗的讲，SpringCloud就是用于构建微服务开发和治理的框架集合。<br>SpringCloud主要涉及的组件包括：</p> <ul><li>Eureka：服务注册中心，用于管理服务</li> <li>Ribbon：负载均衡（集群）</li> <li>Hystrix：熔断器，能够防止服务的雪崩效应。</li> <li>Zuul：服务网关，提供路由转发、请求过滤等功能。</li> <li>Feign：服务调用，简化Http接口的调用。</li></ul> <p><a href="https://blog.csdn.net/weixin_45481821/article/details/123424180" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a name="B1s4z"></a></p> <h1 id="_4、eureka注册中心"><a href="#_4、eureka注册中心" class="header-anchor">#</a> 4、Eureka注册中心</h1> <p><a name="gnZ6n"></a></p> <h2 id="_4-1、单个eureka服务"><a href="#_4-1、单个eureka服务" class="header-anchor">#</a> 4.1、单个Eureka服务</h2> <p>!</p> <ul><li>Eureka：就是服务注册中心，用于管理所有注册服务。</li> <li>班级服务，服务的提供者，启动后向Eureka注册自己地址，方便服务调用方获取。</li> <li>学生服务，服务的调用者，定期从eureka注册中心中获得服务列表。</li> <li>心跳(续约)：提供者定期通过http方式向Eureka刷新自己的状态。</li></ul> <p>当开发大型项目时，服务的提供方和服务的调用方，将会非常庞大，管理服务的成本将几何倍的增长。</p> <p>Eureka将负责服务的注册、发现、状态监控。</p> <p>注册：Eureka负责管理、记录服务提供者的信息</p> <p>发现：服务调用者无需自己寻找服务，而是把自己的需求告诉Eureka，然后Eureka会把符合你需求的服务告诉你</p> <p>监控：服务提供方与Eureka之间通过“心跳”机制进行监控，当某个服务提供方出现问题，Eureka自然会把它从服务列表中剔除<br><a href="https://blog.csdn.net/weixin_45481821/article/details/123424180" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a name="T4PMB"></a></p> <h2 id="_4-2、eureka集群"><a href="#_4-2、eureka集群" class="header-anchor">#</a> 4.2、Eureka集群</h2> <p>高可用<br>多个Eureka Server之间也会互相注册为服务，当服务提供者注册到Eureka Server集群中的某个节点时，该节点会把服务的信息同步给集群中的每个节点，从而实现数据同步。因此，无论客户端访问到Eureka Server集群中的任意一个节点，都可以获取到完整的服务列表信息。<br><br>所谓的高可用注册中心，其实就是把EurekaServer自己也作为一个服务进行注册，这样多个EurekaServer之间就能互相发现对方，从而形成集群<br><strong>服务提供者配置：</strong><br>务提供者要向EurekaServer注册服务，并且完成服务续约等工作。</p> <p>服务注册<br>服务提供者在启动时，会检测配置属性中的：eureka.client.register-with-erueka=true参数是否正确，事实上默认就是true。如果值确实为true，则会向EurekaServer发起一个Rest请求，并携带自己的元数据信息，完成注册操作。</p> <p>服务续约<br>在注册服务完成以后，服务提供者会维持一个心跳（定时向EurekaServer发起Rest请求），告诉EurekaServer：“我还活着”。这个我们称为服务的续约（renew）；</p> <p>有两个重要参数可以修改服务续约的行为：</p> <p>eureka:<br>  client:<br>    lease-renewal-interval-in-seconds: 5   #服务续约(renew)的间隔,默认值90秒<br>    lease-expiration-duration-in-seconds: 10  #服务失效时间,默认为30秒<br>lease-expiration-duration-in-seconds：服务失效时间，默认值90秒<br>lease-renewal-interval-in-seconds：服务续约(renew)的间隔，默认为30秒<br>也就是说，默认情况下每个30秒服务会向注册中心发送一次心跳，证明自己还活着。如果超过90秒没有发送心跳，EurekaServer就会认为该服务宕机，会从服务列表中移除，这两个值在生产环境不要修改，默认即可。</p> <p>但是在开发时，这个值有点太长了，经常我们关掉一个服务，会发现Eureka依然认为服务在活着。所以我们在开发阶段可以适当调小。</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> service
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span> <span class="token comment">#注册中心位置</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>10086/eureka/
  <span class="token key atrule">instance</span><span class="token punctuation">:</span> <span class="token comment">#web页面显示效果和访问路径</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>spring.application.name<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>spring.cloud.client.ip<span class="token punctuation">-</span>address<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span>  <span class="token comment">#5秒一次心跳</span>
    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">10</span>  <span class="token comment">#10秒及过期</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>注册中心优化：失效剔除和自我保护:</strong><br>**失效剔除：**有些时候，我们的服务提供方并不一定会正常下线，可能因为内存溢出、网络故障等原因导致服务无法正常工作。Eureka Server需要将这样的服务剔除出服务列表。因此它会开启一个定时任务，每隔60秒对所有失效的服务（超过90秒未响应）进行剔除。<br>**自我保护：**我们关停一个服务，就会在Eureka面板看到一条警告：</p> <p>这是触发了Eureka的自我保护机制。当一个服务未按时进行心跳续约时，Eureka会统计最近15分钟心跳失败的服务实例的比例是否超过了85%。在生产环境下，因为网络延迟等原因，心跳失败实例的比例很有可能超标，但是此时就把服务剔除列表并不妥当，因为服务可能没有宕机。Eureka就会把当前实例的注册信息保护起来，不予剔除。生产环境下这很有效，保证了大多数服务依然可用。<br>优化总结：<br></p> <p><a name="ikvKv"></a></p> <h1 id="_5、ribbon负载均衡"><a href="#_5、ribbon负载均衡" class="header-anchor">#</a> 5、Ribbon负载均衡</h1> <p>选择哪一个服务，可以通过负载均衡控制，有轮询、随机等算法<br></p> <p>可以修改负债均衡策略<br>Ribbon重试机制：<br>注册中心通常需要遵循CAP原则，CAP指的是在一个分布式系统中，Consistency（一致性）、 Availability（可用性）、Partition tolerance（分区容错性），往往三者不可兼得。</p> <p>Eureka的服务治理主要强调是AP：即可用性和可靠性。</p> <p>Eureka为了实现更高的服务可用性，牺牲了一定的一致性，极端情况下它宁愿接收故障实例也不愿丢掉健康实例，正如我们上面所说的自我保护机制。</p> <p>但是，此时如果我们调用了这些不正常的服务，调用就会失败，从而导致其它服务不能正常工作！这显然不是我们愿意看到的。<br><a href="https://blog.csdn.net/weixin_45481821/article/details/123424180" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>Spring Cloud 整合了Spring Retry 来增强RestTemplate的重试能力，当一次服务调用失败后，不会立即抛出一次，而是再次重试另一个服务。</p> <p><a name="qDzTW"></a></p> <h1 id="_6、hystix熔断器"><a href="#_6、hystix熔断器" class="header-anchor">#</a> 6、Hystix熔断器</h1> <p>Hystrix是Netflix开源的一个延迟和容错库，用于隔离访问远程服务、第三方库，防止出现级联失败。</p> <p>使用熔断器Hystrix为了优化项目。<br><br>工作机制：<br><br>正常工作的情况下，客户端请求调用服务API接口：<br><br>当有服务出现异常时，直接进行失败回滚，00000000处理：<br><br>当服务繁忙时，如果服务出现异常，不是粗暴的直接报错，而是返回一个友好的提示，虽然拒绝了用户的访问，但是会返回一个结果。</p> <p>这就好比去买鱼，平常超市买鱼会额外赠送杀鱼的服务。等到逢年过节，超时繁忙时，可能就不提供杀鱼服务了，这就是服务的降级。</p> <p>系统特别繁忙时，一些次要服务暂时中断，优先保证主要服务的畅通，一切资源优先让给主要服务来使用，在双十一、618时，京东天猫都会采用这样的策略。<br><a href="https://blog.csdn.net/weixin_45481821/article/details/123471102" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><strong>如果熔断和重试机制，都配置，是都生效？还是某个生效？</strong><br>经测试发现是熔断生效，为什么？</p> <ol><li>Ribbon重试机制的超时时间设置的是1000ms:</li></ol> <p>2.Hystix的超时时间默认也是1000ms</p> <p>3.实际执行后发现，没有触发重试机制，而是先触发了熔断。</p> <p>所以，Ribbon的超时时间一定要小于Hystix的超时时间。
<a name="RZAHB"></a></p> <h1 id="_7、feign服务调用"><a href="#_7、feign服务调用" class="header-anchor">#</a> 7、Feign服务调用</h1> <p>Feign是一种声明式、模板化的HTTP客户端。<br>在SpringCloud中使用Feign，我们可以做到使用HTTP请求远程服务时能与调用本地方法一样的编码体验，开发者完全感知不到这是远程方法，更感知不到这是个HTTP请求。<br>Feign的客户端<br>通过@FeignClient 声明Feign客户端。<br>value : 用于设置服务名称<br>path：用于设置路径前缀（也就是controller配置的路径）<br>Feign类似于MyBatis。<br>@FeignClient类似 @Mapper注解。<br>Feign中的方法需要与服务的方法声明完全一致。注意：路径<br>Feign会根据注解帮我们生成URL。</p> <p>Feign中本身已经集成了Ribbon依赖，不需要额外引入依赖，就可以完成负载均衡处理。采用之前的配置就可以、</p> <p>Feign默认也有对Hystix的集成，只不过，默认情况下是关闭的。
<a name="oCvVV"></a></p> <h1 id="_8、zull网关"><a href="#_8、zull网关" class="header-anchor">#</a> 8、Zull网关</h1> <p><br><br>不管是来自于客户端（PC或移动端）的请求，还是服务内部调用。一切对服务的请求都会经过Zuul这个网关，然后再由网关来实现 鉴权、动态路由等等操作。Zuul就是我们服务的统一入口。<br><strong>路由转发</strong><br><strong>路由前缀</strong><br><strong>过滤器：</strong><br>Zuul作为网关的其中一个重要功能，就是实现请求的鉴权。而这个动作我们往往是通过Zuul提供的过滤器来实现的。<br>ZullFilter<br>ZuulFilter是过滤器的顶级父类。在这里我们看一下其中定义的4个最重要的方法：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">ZuulFilter</span> <span class="token keyword">implements</span> <span class="token class-name">IZuulFilter</span><span class="token punctuation">{</span>

     <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">filterType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//过滤器类型</span>
     <span class="token keyword">abstract</span> <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">filterOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//执行顺序</span>
     <span class="token keyword">boolean</span> <span class="token function">shouldFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//是否需要执行</span>
     <span class="token class-name">Object</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ZuulException</span><span class="token punctuation">;</span> <span class="token comment">//具体业务逻辑</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>shouldFilter：返回一个Boolean值，判断该过滤器是否需要执行。返回true执行，返回false不执行。<br>run：过滤器的具体业务逻辑。<br>filterType：返回字符串，代表过滤器的类型。包含以下4种：<br>pre：请求在被路由之前执行<br>routing：在路由请求时调用<br>post：在routing和errror过滤器之后调用<br>error：处理请求时发生错误调用<br>filterOrder：通过返回的int值来定义过滤器的执行顺序，数字越小优先级越高。<br><a href="https://blog.csdn.net/weixin_45481821/article/details/123471102" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>过滤器执行生命周期<br><br>正常流程：<br>请求到达首先会经过pre类型过滤器，而后到达routing类型，进行路由，请求就到达真正的服务提供者，执行请求，返回结果后，会到达post过滤器。而后返回响应。</p> <p>异常流程：<br>整个过程中，pre或者routing过滤器出现异常，都会直接进入error过滤器，再error处理完毕后，会将请求交给POST过滤器，最后返回给用户。<br>如果是error过滤器自己出现异常，最终也会进入POST过滤器，而后返回。<br>如果是POST过滤器出现异常，会跳转到error过滤器，但是与pre和routing不同的时，请求不会再到达POST过滤器了。<br><a href="https://blog.csdn.net/weixin_45481821/article/details/123471102" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><strong>是用场景：</strong><br>场景非常多：<br>请求鉴权：一般放在pre类型，如果发现没有访问权限，直接就拦截了<br>异常处理：一般会在error类型和post类型过滤器中结合来处理。<br>服务调用时长统计：pre和post结合使用。</p> <p><strong>负载均衡和熔断：</strong><br>Zuul中默认就已经集成了Ribbon负载均衡和Hystix熔断机制。但是所有的超时策略都是走的默认值，比如熔断超时时间只有1S，很容易就触发了。因此建议我们手动进行配置</p> <p><a name="RiivY"></a></p> <h1 id="_7、sentinel"><a href="#_7、sentinel" class="header-anchor">#</a> 7、Sentinel</h1> <p>Sentinel ：一个高可用的流量控制与防护组件，保障微服务的稳定性。</p> <p>Sentinel分为两个部分，sentinel-core与sentinel-dashboard。</p> <p>sentinel-core 部分能够支持在本地引入sentinel-core进行限流规则的整合与配置。</p> <p>sentinel-dashboard 则在core之上能够支持在线的流控规则与熔断规则的维护与调整等。<br><a href="https://blog.csdn.net/weixin_45481821/article/details/125357875" target="_blank" rel="noopener noreferrer"><br><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a name="olly1"></a></p> <h1 id="_8、nacos"><a href="#_8、nacos" class="header-anchor">#</a> 8、Nacos</h1> <p>配置中心
<a name="Eozeg"></a></p> <h1 id="_9、apollo配置中心"><a href="#_9、apollo配置中心" class="header-anchor">#</a> 9、Apollo配置中心</h1></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/05/21, 12:00:05</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/technology/mq/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">springcloud</div></a> <a href="/pages/0cc3cb/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">微服务中的鉴权怎么做？</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/technology/mq/" class="prev">springcloud</a></span> <span class="next"><a href="/pages/0cc3cb/">微服务中的鉴权怎么做？</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="canghe0818@gmain.con" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/laigeoffer" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2024-2024
    <span><a href="https://github.com/laigeoffer" target="_blank">laigeoffer</a> | <a href="https://github.com/laigeoffer" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.83473f79.js" defer></script><script src="/assets/js/2.31d96d71.js" defer></script><script src="/assets/js/10.a88f9952.js" defer></script>
  </body>
</html>
